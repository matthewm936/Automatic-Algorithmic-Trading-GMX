"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.slugify = exports.emitInitialization = void 0;
const constants_1 = require("./constants");
// Emits call to initialize runtime client if not already
function emitInitialization(code) {
    code.line(`${constants_1.JSII_INIT_ALIAS}.${constants_1.JSII_INIT_FUNC}()`);
}
exports.emitInitialization = emitInitialization;
/**
 * Slugify a name by appending '_' at the end until the resulting name is not
 * present in the list of reserved names.
 *
 * @param name     the name to be slugified
 * @param reserved the list of names that are already sued in-scope
 *
 * @returns the slugified name
 */
function slugify(name, reserved) {
    const used = new Set(reserved);
    while (used.has(name)) {
        name += '_';
    }
    return name;
}
exports.slugify = slugify;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsMkNBQThEO0FBRTlELHlEQUF5RDtBQUN6RCxTQUFnQixrQkFBa0IsQ0FBQyxJQUFlO0lBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRywyQkFBZSxJQUFJLDBCQUFjLElBQUksQ0FBQyxDQUFDO0FBQ3RELENBQUM7QUFGRCxnREFFQztBQUVEOzs7Ozs7OztHQVFHO0FBQ0gsU0FBZ0IsT0FBTyxDQUFDLElBQVksRUFBRSxRQUEwQjtJQUM5RCxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMvQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDckIsSUFBSSxJQUFJLEdBQUcsQ0FBQztLQUNiO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBTkQsMEJBTUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb2RlTWFrZXIgfSBmcm9tICdjb2RlbWFrZXInO1xuXG5pbXBvcnQgeyBKU0lJX0lOSVRfQUxJQVMsIEpTSUlfSU5JVF9GVU5DIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG4vLyBFbWl0cyBjYWxsIHRvIGluaXRpYWxpemUgcnVudGltZSBjbGllbnQgaWYgbm90IGFscmVhZHlcbmV4cG9ydCBmdW5jdGlvbiBlbWl0SW5pdGlhbGl6YXRpb24oY29kZTogQ29kZU1ha2VyKSB7XG4gIGNvZGUubGluZShgJHtKU0lJX0lOSVRfQUxJQVN9LiR7SlNJSV9JTklUX0ZVTkN9KClgKTtcbn1cblxuLyoqXG4gKiBTbHVnaWZ5IGEgbmFtZSBieSBhcHBlbmRpbmcgJ18nIGF0IHRoZSBlbmQgdW50aWwgdGhlIHJlc3VsdGluZyBuYW1lIGlzIG5vdFxuICogcHJlc2VudCBpbiB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcy5cbiAqXG4gKiBAcGFyYW0gbmFtZSAgICAgdGhlIG5hbWUgdG8gYmUgc2x1Z2lmaWVkXG4gKiBAcGFyYW0gcmVzZXJ2ZWQgdGhlIGxpc3Qgb2YgbmFtZXMgdGhhdCBhcmUgYWxyZWFkeSBzdWVkIGluLXNjb3BlXG4gKlxuICogQHJldHVybnMgdGhlIHNsdWdpZmllZCBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbHVnaWZ5KG5hbWU6IHN0cmluZywgcmVzZXJ2ZWQ6IEl0ZXJhYmxlPHN0cmluZz4pOiBzdHJpbmcge1xuICBjb25zdCB1c2VkID0gbmV3IFNldChyZXNlcnZlZCk7XG4gIHdoaWxlICh1c2VkLmhhcyhuYW1lKSkge1xuICAgIG5hbWUgKz0gJ18nO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuIl19