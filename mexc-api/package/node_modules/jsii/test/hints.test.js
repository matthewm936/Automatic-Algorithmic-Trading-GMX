"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const spec_1 = require("@jsii/spec");
const lib_1 = require("../lib");
describe('@struct', () => {
    test('causes behavioral-named interfaces to be structs', async () => {
        const assembly = await lib_1.sourceToAssemblyHelper(`
      /** @struct */
      export interface IPSet {
        readonly cidr: string;
      }
    `);
        expect(assembly.types['testpkg.IPSet'].kind).toBe(spec_1.TypeKind.Interface);
        expect(assembly.types['testpkg.IPSet'].datatype).toBe(true);
    });
    test('can be used on any struct', async () => {
        const assembly = await lib_1.sourceToAssemblyHelper(`
      /** @struct */
      export interface Struct {
        readonly cidr: string;
      }
    `);
        expect(assembly.types['testpkg.Struct'].kind).toBe(spec_1.TypeKind.Interface);
        expect(assembly.types['testpkg.Struct'].datatype).toBe(true);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGludHMudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImhpbnRzLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxQ0FBcUQ7QUFFckQsZ0NBQWdEO0FBRWhELFFBQVEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO0lBQ3ZCLElBQUksQ0FBQyxrREFBa0QsRUFBRSxLQUFLLElBQUksRUFBRTtRQUNsRSxNQUFNLFFBQVEsR0FBRyxNQUFNLDRCQUFzQixDQUFDOzs7OztLQUs3QyxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZFLE1BQU0sQ0FBRSxRQUFRLENBQUMsS0FBTSxDQUFDLGVBQWUsQ0FBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQ3ZFLElBQUksQ0FDTCxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFJLENBQUMsMkJBQTJCLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDM0MsTUFBTSxRQUFRLEdBQUcsTUFBTSw0QkFBc0IsQ0FBQzs7Ozs7S0FLN0MsQ0FBQyxDQUFDO1FBRUgsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hFLE1BQU0sQ0FBRSxRQUFRLENBQUMsS0FBTSxDQUFDLGdCQUFnQixDQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FDeEUsSUFBSSxDQUNMLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW50ZXJmYWNlVHlwZSwgVHlwZUtpbmQgfSBmcm9tICdAanNpaS9zcGVjJztcblxuaW1wb3J0IHsgc291cmNlVG9Bc3NlbWJseUhlbHBlciB9IGZyb20gJy4uL2xpYic7XG5cbmRlc2NyaWJlKCdAc3RydWN0JywgKCkgPT4ge1xuICB0ZXN0KCdjYXVzZXMgYmVoYXZpb3JhbC1uYW1lZCBpbnRlcmZhY2VzIHRvIGJlIHN0cnVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYXNzZW1ibHkgPSBhd2FpdCBzb3VyY2VUb0Fzc2VtYmx5SGVscGVyKGBcbiAgICAgIC8qKiBAc3RydWN0ICovXG4gICAgICBleHBvcnQgaW50ZXJmYWNlIElQU2V0IHtcbiAgICAgICAgcmVhZG9ubHkgY2lkcjogc3RyaW5nO1xuICAgICAgfVxuICAgIGApO1xuXG4gICAgZXhwZWN0KGFzc2VtYmx5LnR5cGVzIVsndGVzdHBrZy5JUFNldCddLmtpbmQpLnRvQmUoVHlwZUtpbmQuSW50ZXJmYWNlKTtcbiAgICBleHBlY3QoKGFzc2VtYmx5LnR5cGVzIVsndGVzdHBrZy5JUFNldCddIGFzIEludGVyZmFjZVR5cGUpLmRhdGF0eXBlKS50b0JlKFxuICAgICAgdHJ1ZSxcbiAgICApO1xuICB9KTtcblxuICB0ZXN0KCdjYW4gYmUgdXNlZCBvbiBhbnkgc3RydWN0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFzc2VtYmx5ID0gYXdhaXQgc291cmNlVG9Bc3NlbWJseUhlbHBlcihgXG4gICAgICAvKiogQHN0cnVjdCAqL1xuICAgICAgZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Qge1xuICAgICAgICByZWFkb25seSBjaWRyOiBzdHJpbmc7XG4gICAgICB9XG4gICAgYCk7XG5cbiAgICBleHBlY3QoYXNzZW1ibHkudHlwZXMhWyd0ZXN0cGtnLlN0cnVjdCddLmtpbmQpLnRvQmUoVHlwZUtpbmQuSW50ZXJmYWNlKTtcbiAgICBleHBlY3QoKGFzc2VtYmx5LnR5cGVzIVsndGVzdHBrZy5TdHJ1Y3QnXSBhcyBJbnRlcmZhY2VUeXBlKS5kYXRhdHlwZSkudG9CZShcbiAgICAgIHRydWUsXG4gICAgKTtcbiAgfSk7XG59KTtcbiJdfQ==